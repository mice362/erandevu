<div class="d-flex">
  <app-patient-sidebar></app-patient-sidebar>
  <div class="flex-grow-1 p-3">
    <div class="col-md-12">
      <app-token></app-token>
      <div class="card mt-5">
        <div class="card-header">
          <h2
            style="
              color: #1565c0;
              font-size: 28px;
              text-align: center;
              margin-bottom: 19px;
            "
          >
            RANDEVU AL
          </h2>
        </div>
        <div class="card-body">
          <div class="form-group mb-3">
            <label for="branch">Bran≈ü</label>
            <select
              id="branch"
              class="form-control"
              [(ngModel)]="selectedBranch"
              (change)="onBranchChange()"
            >
              <option *ngFor="let branch of branches" [ngValue]="branch">
                {{ branch.name }}
              </option>
            </select>
          </div>

          <div *ngIf="selectedBranch" class="form-group mb-3">
            <label for="doctor">Doktor</label>
            <select
              id="doctor"
              class="form-control"
              [(ngModel)]="selectedDoctor"
              (change)="onDoctorChange()"
            >
              <option *ngFor="let doctor of doctors" [ngValue]="doctor">
                {{
                  doctor.title + " " + doctor.firstName + " " + doctor.lastName
                }}
              </option>
            </select>
          </div>

          <div *ngIf="selectedDoctor" class="form-group mb-3">
            <label for="date">Tarih</label>
            <select
              id="date"
              class="form-control"
              [(ngModel)]="selectedDate"
              (change)="onDateChange()"
            >
              <option *ngFor="let date of availableDates" [ngValue]="date">
                {{ date | date : "dd.MM.yyyy" }}
              </option>
            </select>
          </div>

          <div *ngIf="selectedDate" class="form-group mb-3">
            <label for="time">Saat</label>
            <select id="time" class="form-control" [(ngModel)]="selectedTime">
              <option
                *ngFor="let time of timesWithStatus"
                [ngValue]="time.time"
                [disabled]="time.disabled"
              >
                {{ time.time }}
              </option>
            </select>
          </div>

          <button
            class="btn btn-primary mt-3"
            (click)="addAppointment()"
            [disabled]="!selectedTime"
          >
            Randevu Al
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
